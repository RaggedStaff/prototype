{"version":3,"sources":["webpack:///./src/ui/core/genericElement.js","webpack:///./src/ui/component/navigation/view.html","webpack:///./src/ui/component/header/view.html","webpack:///./src/ui/component/home/view.html","webpack:///./src/ui/component/menu/view.html","webpack:///./src/ui/component/catalogImport/view.html","webpack:///./src/ui/component/catalogSupply/view.html","webpack:///./src/ui/component/itemImport/view.html","webpack:///./src/ui/component/itemSupply/view.html","webpack:///./src/ui/component/profil/view.html","webpack:///./src/ui/component/importCatalog/view.html","webpack:///./src/ui/component/OIDC-test/view.html","webpack:///./src/ui/component/LDP-test/view.html","webpack:///./src/ui/component/catalogImport/model.js","webpack:///./src/ui/component/catalogSupply/model.js","webpack:///./src/ui/component/itemImport/model.js","webpack:///./src/ui/component/itemSupply/model.js","webpack:///./src/ui/component/header/model.js","webpack:///./src/ui/component/home/model.js","webpack:///./src/ui/component/menu/model.js","webpack:///./src/ui/component/profil/model.js","webpack:///./src/ui/component/importCatalog/model.js","webpack:///./src/ui/component/OIDC-test/model.js","webpack:///./src/ui/component/LDP-test/model.js","webpack:///./src/ui/component/navigation/model.js","webpack:///./src/ui/router/router.js","webpack:///./src/ui/model/util.js","webpack:///./src/ui/model/catalog.js","webpack:///./src/ui/model/testAPI.js","webpack:///./src/ui/model/user.js","webpack:///./src/ui/main.js"],"names":["GenericElement","view","shadowRootActiv","subscriptions","propagatedStyle","genericElementChildren","undefined","appendView","MutationObserver","mutationsList","forEach","mutation","addedNodes","addedNode","tagName","injectedStyle","document","createElement","appendChild","createTextNode","innerText","appendPropagatedStyle","remove","observe","attributes","childList","host","getRootNode","push","this","attachShadow","mode","shadowRoot","innerHTML","child","cloneNode","s","unsubscribe","attrName","oldVal","newVal","options","postal","subscribe","publish","HTMLElement","module","exports","CatalogImport","channel","topic","callback","data","setDataGrid","$","querySelector","panel","fit","gridDom","datagrid","singleSelect","autoLoad","onSelect","id","rowData","selected","raw","columns","field","title","width","sortable","find","css","easyuiCss","toString","injectedStyle2","easyuiCssIcons","injectedStyle3","easyuiCssColors","addEventListener","e","edit","encodeURIComponent","dataEasyUi","map","d","source","description","quantity","window","customElements","define","CatalogSupply","elements","descriptionSearch","rawSupplies","gridDomTree","treegrid","idField","treeField","selectedSupply","filter","value","normalize","replace","filteredData","record","toUpperCase","includes","counter","children","c","ItemImport","unit","setData","consolidate","regExec","exec","location","hash","DFCid","console","log","item","textContent","newSupply","supplyId","importId","ItemSupply","unlink","referer","selectedImport","supply","import","Header","Home","Menu","changeMenu","screen","menuAnchor","classList","toggle","currentScreen","toggleScreen","Profil","email","logout","setUser","user","ImportCatalog","loadSources","getElementById","sourceSelect","optionSelected","selectedIndex","sourceSelected","sources","name","url","querySelectorAll","option","concat","getAttribute","confirm","target","divOptions","firstChild","removeChild","optionDiv","add","optionLabel","label","append","optionInfo","info","optionText","setAttribute","param","OIDC_test","urlInit","urlInit2","urlInit3","result","header","urlTest","urlInput","setResult","origin","JSON","stringify","body","headers","LDP_test","Navigation","loader","loadComponent","comp","component","style","activAuth","search","split","params","terms","key","urlToken","r","localStorage","setItem","cleanurl","pathname","token","getItem","myHeaders","Headers","myInit","method","fetch","url_server","response","status","json","jsonResponse","text","setTimeout","oidcLink","substr","click","parameter","href","urlparts","length","urlBase","shift","queryString","join","prefix","pars","i","lastIndexOf","splice","history","pushState","Router","firstRoute","router","Navigo","on","query","resolve","navigate","Util","out","Promise","reject","Object","assign","then","ok","headerString","String","fromCharCode","error","errorMessage","message","Error","Catalog","util","loadAllSupply","loadOneSupply","unlinkSupply","updateSupply","convertImportToSupply","loadAllImport","loadOneImport","getSources","importOne","cleanAll","ajaxCall","alert","getConfig","config","catalogs","catalogsTree","newRecords","hostedBy","sort","a","b","localeCompare","importItem","TestAPI","testApiHeader","User","setProfil","getUser","createEntrepriseForUser","profil","_id","removeItem","redirectUrl"],"mappings":"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","file":"main.61970154bffa263bbc20.js","sourcesContent":["import postal from 'postal';\nexport default class GenericElement extends HTMLElement {\n  constructor(view,shadowRootActiv) {\n    super();\n    this.subscriptions = [];\n    this.propagatedStyle=[];\n    this.genericElementChildren=[];\n\n    if(view!=undefined){\n      this.appendView(view,shadowRootActiv)\n    }\n\n    new MutationObserver((mutationsList) => {\n      mutationsList.forEach(mutation => {\n        mutation.addedNodes.forEach(addedNode => {\n          if (addedNode.tagName == \"STYLE\") {\n            let injectedStyle = document.createElement('style');\n            injectedStyle.appendChild(document.createTextNode(addedNode.innerText));\n            this.appendPropagatedStyle(injectedStyle);\n          }\n          addedNode.remove();\n        })\n      })\n    }).observe(this, {\n      attributes: false,\n      childList: true\n    });\n\n    this.host=this.getRootNode().host;\n    if (this.host instanceof GenericElement){\n      this.host.genericElementChildren.push(this);\n    }\n  }\n\n  appendView(view,shadowRootActiv){\n    // console.log('shadowRootActivBefore',shadowRootActiv);\n    shadowRootActiv=shadowRootActiv==undefined?true:shadowRootActiv;\n    // console.log('shadowRootActiv',shadowRootActiv);\n    if (shadowRootActiv==true){\n      this.attachShadow({\n        mode: 'open'\n      });\n      this.shadowRoot.innerHTML = view;\n    }else{\n      this.innerHTML = view;\n      // console.log('innerHTML',this.innerHTML);\n    }\n\n    // console.log('OK');\n  }\n\n  appendPropagatedStyle(injectedStyle){\n    this.propagatedStyle.push(injectedStyle);\n    if(this.shadowRoot!=undefined){\n      this.shadowRoot.appendChild(injectedStyle);\n    }else{\n      // this.appendChild(injectedStyle);\n    }\n\n    this.genericElementChildren.forEach(child=>{\n      child.appendPropagatedStyle(injectedStyle.cloneNode(true));\n    })\n  }\n\n  connectedCallback() {\n  }\n\n  disconnectedCallback() {\n    this.subscriptions.forEach(s => {\n      s.unsubscribe();\n    })\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n  }\n\n  subscribe(options) {\n    this.subscriptions.push(postal.subscribe(options))\n  }\n\n  publish(options) {\n    postal.publish(options);\n  }\n\n}\n","// Module\nvar code = \"<div id=containerLoaderDiv class=hide> <img id=loaderImg src=http://datafoodconsortium.org/img/bwg.png> </div> <div id=main class=containerH> <a id=oidcLink href-source=http://localhost:8080/login/auth style=display:none></a> <div class=containerV style=flex:1> <x-header></x-header> <div class=containerH style=flex:1> <x-menu id=menu style=flex-basis:200px;flex-shrink:0></x-menu> <div class=\\\"box containerV\\\" id=screen style=flex:1></div> </div> </div> </div> <style>#main{position:absolute;bottom:0;top:0;right:0;left:0}#screen{margin:5px}#containerLoaderDiv{background-color:rgba(200,200,200,.6);bottom:0;top:0;right:0;left:0;position:absolute;z-index:1;justify-content:center;align-items:center;display:flex}#loaderImg{animation:bounce .5s linear infinite;animation-direction:alternate}@keyframes bounce{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1.2)}}</style> \";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<div id=main class=\\\"box containerH\\\"> <div> <a href=#/x-home><img src=http://datafoodconsortium.org/img/bwg.png alt=Accueil></a> </div> <div class=\\\"containerV container-content-centered\\\"> <h1>Prototype Data Food Consortium V3.0</h1> </div> <div> <a href=#/x-profil class=\\\"containerH container-content-centered\\\"> <svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=50 height=50 viewBox=\\\"0 0 172 172\\\" style=fill:#000> <g transform=\\\"\\\"> <g fill=none fill-rule=nonzero stroke=none stroke-width=1 stroke-linecap=butt stroke-linejoin=miter stroke-miterlimit=10 stroke-dasharray=\\\"\\\" stroke-dashoffset=0 font-family=none font-weight=none font-size=none text-anchor=none style=mix-blend-mode:normal> <path d=M0,172v-172h172v172z fill=none></path> <g id=original-icon fill=#ffffff> <path d=\\\"M80.625,10.75c-38.50683,0 -69.875,31.36817 -69.875,69.875c0,38.50683 31.36817,69.875 69.875,69.875c38.50683,0 69.875,-31.36817 69.875,-69.875c0,-38.50683 -31.36817,-69.875 -69.875,-69.875zM80.625,21.5c32.71192,0 59.125,26.41308 59.125,59.125c0,14.40332 -5.12304,27.54688 -13.60547,37.79297c-4.61914,-13.10156 -14.61328,-23.6416 -27.37891,-28.84864c5.33301,-4.91308 8.73438,-11.92578 8.73438,-19.69433c0,-14.78125 -12.09375,-26.875 -26.875,-26.875c-14.78125,0 -26.875,12.09375 -26.875,26.875c0,7.76855 3.40136,14.78125 8.73438,19.69433c-12.76562,5.20703 -22.71777,15.74707 -27.33692,28.84864c-8.52441,-10.24609 -13.64746,-23.38965 -13.64746,-37.79297c0,-32.71192 26.41308,-59.125 59.125,-59.125zM80.625,53.75c8.98633,0 16.125,7.13868 16.125,16.125c0,8.98633 -7.13867,16.125 -16.125,16.125c-8.98632,0 -16.125,-7.13867 -16.125,-16.125c0,-8.98632 7.13868,-16.125 16.125,-16.125zM80.625,96.75c18.2666,0 33.25781,12.97558 36.74317,30.19239c-10.12011,8.02051 -22.84375,12.80761 -36.74317,12.80761c-13.89942,0 -26.62304,-4.7871 -36.70117,-12.80761c3.44335,-17.2168 18.43456,-30.19239 36.70117,-30.19239z\\\"> </path> </g> <path d=\\\"\\\" fill=none></path> </g> </g> </svg> <div class=\\\"containerV container-content-centered\\\"> <span>Mon profil</span> </div> </a> </div> </div> <style>#main{background-color:#000;color:#fff;padding:10px;justify-content:space-between}img{height:50px}h1{margin-block-start:0;margin-block-end:0}</style> \";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<div class=panelContainer class=\\\"box containerV\\\"> <h1> Bienvenue sur votre catalogue commun ! </h1> <h3> Afin de visualiser vos produits, veuillez cliquer sur le bouton ci-dessous afin d'accéder à la page d'import </h3> <div class=\\\"containerH container-content-centered\\\"> <a href=#/x-import-catalog id=go>GO !</a> </div> </div> <style>#main{background-color:grey}#go{padding:30px;background-color:var(--color-orange)}</style> \";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<div class=containerV> <a href=#/x-import-catalog screen=x-import-catalog>import</a> <a href=#/x-catalog-import screen=x-catalog-import>consolidation</a> <a href=#/x-catalog-supply screen=x-catalog-supply>catalogue</a> <a href=#/x-oidc-test screen=x-oidc-test>test OIDC</a> </div> <style>a{background-color:grey;margin:5px;padding:5px;text-transform:uppercase;font-weight:700}.current{background-color:#fff;color:#000}</style> \";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<div class=panelContainer style=flex:1> <table style=height:100%;width:98%> <tr style=height:30px> <td> <h1>Produits non consolidés</h1> </td> </tr> <tr style=height:30px> <td> <div class=\\\"containerH space-between\\\"> <h2>Editer un produit non consolidé</h2> <div class=containerH> <button id=edit>éditer</button> </div> </div> </td> </tr> <tr style=height:100%> <td> <div id=grid> </div> </td> </tr> </table> </div> <style></style> \";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<div class=panelContainer style=flex:1> <table style=height:100%;width:98%> <tr style=height:30px> <td> <h1>Catalogue des produits consolidés</h1> </td> </tr> <tr style=height:100px> <td> <div class=containerH> <div class=field> <label>recherche sur la description</label> <input type=text class=value name=descriptionSearch /> </div> <div class=containerH> <button id=filter>filtrer</button> </div> </div> </td> </tr> <tr style=height:30px> <td> <div class=\\\"containerH space-between\\\"> <h2>Editer un produit de catalogue</h2> <div class=containerH> <button id=edit>éditer</button> </div> </div> </td> </tr> <tr style=height:100%> <td> <div id=treeGrid> </div> </td> </tr> </table> </div> <style></style> \";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<div class=panelContainer style=flex:1> <table style=height:100%;width:98%> <tr style=height:30px> <td> <h1>Produit non consolidé</h1> </td> </tr> <tr style=height:100px> <td> <div class=containerH> <div class=field> <label>description</label> <div class=value name=description></div> </div> <div class=field> <label>unité</label> <div class=value name=unit></div> </div> <div class=field> <label>quantité</label> <div class=value name=quantity></div> </div> <div class=field> <label>source</label> <div class=value name=source></div> </div> </div> </td> </tr> <tr style=height:100px> <td> <div class=containerH> <div class=field> <label>recherche sur la description</label> <input type=text class=value name=descriptionSearch /> </div> <div class=containerH> <button id=filter>filtrer</button> </div> </div> </td> </tr> <tr style=height:30px> <td> <div class=\\\"containerH space-between\\\"> <h2>Associer cet import avec un produit du catalogue</h2> <div class=containerH> <button id=link>consolider</button> <button id=linkEmpty>nouveau produit</button> </div> </div> </td> </tr> <tr style=height:100%> <td> <div id=treeGrid> </div> </td> </tr> </table> </div> <style></style> \";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<div class=panelContainer style=flex:1> <table style=height:100%;width:98%> <tr style=height:30px> <td> <h1>Produit consolidé</h1> </td> </tr> <tr style=height:100px> <td> <div class=containerH> <div class=field> <label>description</label> <div class=value name=description></div> </div> <div class=field> <label>quantité</label> <div class=value name=quantity></div> </div> <div class=field> <label>unité</label> <div class=value name=unit></div> </div> <div class=field> <label>identifiant</label> <div class=value name=id></div> </div> </div> </td> </tr> <tr style=height:30px> <td> <div class=\\\"containerH space-between\\\"> <h2>Supprimer une association d'un import avec le produit consolidé ou choisir le produit de référence</h2> <div class=containerH> <button id=unlink>Déconsolider</button> <button id=referer>Choisir le produit de réference</button> </div> </div> </td> </tr> <tr style=height:100%> <td> <div id=grid> </div> </td> </tr> </table> </div> <style>.field{padding:20px}</style> \";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<div class=\\\"panelContainer containerV\\\" class=box style=flex:1> <h1>Profil</h1> <div class=field> <label>email</label> <div name=email></div> </div> <div class=containerH> <button id=logout>logout</button> </div> </div> <style></style> \";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<div class=\\\"panelContainer containerV\\\" style=flex:1> <h1>Import</h1> <p>Veuillez sélectionner une plateforme ci-dessous et cliquer sur \\\"importer\\\".</p> <div class=containerV> <div class=field> <select class=value id=source-select> <option value=\\\"\\\">--Veuiller choisir une source--</option> </select> </div> <div id=options> </div> <div> <button id=import-button>importer</button> </div> </div> <h1>Suppression des produits</h1> <p>Vous souhaitez supprimer tous les produits du catalogue ? Veuillez cliquer sur le bouton ci-dessous :</p> <div> <button id=clean-button>Supprimer tous les produits</button> </div> </div> <style>span{padding:5px;font-size:small}</style> \";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<div class=\\\"panelContainer box containerV\\\" style=flex:1> <div> <h1> Test d'appel d'API avec Header OIDC (token) </h1> </div> <div> <input type=text id=urlInput name=urlInput style=width:100% placeholder=\\\"url à tester\\\"/> </div> <div class=containerH style=justify-content:space-between> <div class=containerH> <button id=urlInit> remplir avec une url user </button> <button id=urlInit2> remplir avec une url entreprise JSON-LD </button> <button id=urlInit3> remplir avec une url entreprise LDP </button> </div> <button id=urlTest> test </button> </div> <div style=flex:.5> <textarea id=header name=header style=width:100%;height:100%></textarea> </div> <div style=flex:1> <textarea id=result name=result style=width:100%;height:100%></textarea> </div> </div> <style>#main{background-color:grey}</style> \";\n// Exports\nmodule.exports = code;","// Module\nvar code = \"<div class=\\\"panelContainer box containerV\\\" style=flex:1> <div> <h1> Test d'appel d'API avec Header OIDC (token) et store LDflex </h1> </div> <div> <input type=text id=urlInput name=urlInput style=width:100% placeholder=\\\"url à tester\\\"/> </div> <div class=containerH style=justify-content:space-between> <div class=containerH> <button id=urlInit2> Remplir avec une url entreprise </button> </div> <button id=urlTest> Test </button> </div> <div style=flex:.5> <textarea id=header name=header style=width:100%;height:100%></textarea> </div> <div style=flex:1> <textarea id=result name=result style=width:100%;height:100%></textarea> </div> </div> <style>#main{background-color:grey}</style> \";\n// Exports\nmodule.exports = code;","import GenericElement from '../../core/genericElement.js';\nimport view from 'html-loader!./view.html';\nimport easyui from '../../easyui/jquery-easyui-1.8.1/jquery.easyui.min.js';\nimport easyuiCss from '../../easyui/jquery-easyui-1.8.1/themes/default/easyui.css';\nimport easyuiCssIcons from '../../easyui/jquery-easyui-1.8.1/themes/icon.css';\nimport easyuiCssColors from '../../easyui/jquery-easyui-1.8.1/themes/color.css';\n\nexport default class CatalogImport extends GenericElement {\n  constructor() {\n    super(view);\n    this.subscribe({\n      channel: 'import',\n      topic: 'changeAll',\n      callback: (data) => {\n        this.setDataGrid(data)\n      }\n    });\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    $(this.shadowRoot.querySelector(\"#panel\")).panel({\n      fit: true\n    });\n    this.gridDom = $(this.shadowRoot.querySelector(\"#grid\"));\n\n    let datagrid = this.gridDom.datagrid({\n      fit: true,\n      singleSelect:true,\n      autoLoad: false,\n      onSelect: (id,rowData) => {\n        this.selected = rowData.raw\n      },\n      columns: [\n        [{\n            field: 'description',\n            title: 'description',\n            width: 300,\n            sortable: true,\n          },\n          {\n            field: 'quantity',\n            title: 'quantity',\n            width: 100,\n            sortable: true\n          }, {\n            field: 'unit',\n            title: 'unit',\n            width: 100,\n            sortable: true\n          },\n          {\n            field: 'source',\n            title: 'source',\n            width: 200,\n            sortable: true\n          },\n          // {\n          //   field: 'action',\n          //   title: 'Action',\n          //   width: 80,\n          //   align: 'center',\n          //   formatter: function(value, row, index) {\n          //     return '<a href=\"./#/x-item-import/' + encodeURIComponent(row['@id'] )+ '\">Edit</a> ';\n          //   }\n          // }\n        ]\n      ]\n    });\n\n    this.publish({\n      channel: 'import',\n      topic: 'loadAll'\n    });\n\n    this.gridDom.datagrid('getPanel').find('.datagrid-header .datagrid-htable').css('height', '');\n    this.gridDom.datagrid('getPanel').find('.datagrid-header').css('height', '');\n    // this.gridDom.datagrid('resize');\n\n    let injectedStyle = document.createElement('style');\n    injectedStyle.appendChild(document.createTextNode(easyuiCss.toString()));\n    this.shadowRoot.appendChild(injectedStyle);\n    let injectedStyle2 = document.createElement('style');\n    injectedStyle2.appendChild(document.createTextNode(easyuiCssIcons.toString()));\n    this.shadowRoot.appendChild(injectedStyle2);\n    let injectedStyle3 = document.createElement('style');\n    injectedStyle3.appendChild(document.createTextNode(easyuiCssColors.toString()));\n    this.shadowRoot.appendChild(injectedStyle3);\n\n    this.shadowRoot.querySelector('#edit').addEventListener('click', e => {\n      this.edit();\n    })\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    super.attributeChangedCallback(attrName, oldVal, newVal);\n  }\n\n  edit(){\n    this.publish({\n      channel: 'main',\n      topic: 'navigate',\n      data : '/x-item-import/'+encodeURIComponent(this.selected['@id'])\n    })\n  }\n\n  setDataGrid(data) {\n    // let catalogList =this.shadowRoot.getElementById('catalogList');\n    // console.log('data received', data);\n    let counter = 0;\n    let dataEasyUi = data.map(d => {\n      return {\n        id: counter,\n        source: d['dfc:hostedBy']?d['dfc:hostedBy']['dfc:name']:'',\n        raw:d,\n        description: d['dfc:description'],\n        quantity: d['dfc:quantity'],\n        // unit: d['dfc:hasUnit']['@id'],\n        '@id': d['@id']\n      }\n    })\n    // console.log('dataEasyUi', dataEasyUi);\n    this.gridDom.datagrid('loadData', dataEasyUi);\n  }\n}\nwindow.customElements.define('x-catalog-import', CatalogImport);\n","import GenericElement from '../../core/genericElement.js';\nimport view from 'html-loader!./view.html';\nimport easyui from '../../easyui/jquery-easyui-1.8.1/jquery.easyui.min.js';\nimport easyuiCss from '../../easyui/jquery-easyui-1.8.1/themes/default/easyui.css';\nimport easyuiCssIcons from '../../easyui/jquery-easyui-1.8.1/themes/icon.css';\nimport easyuiCssColors from '../../easyui/jquery-easyui-1.8.1/themes/color.css';\n\nexport default class CatalogSupply extends GenericElement {\n  constructor() {\n    super(view);\n\n    this.elements = {\n      descriptionSearch: this.shadowRoot.querySelector('[name=\"descriptionSearch\"]'),\n    };\n\n    this.subscribe({\n      channel: 'supply',\n      topic: 'changeAll',\n      callback: (data) => {\n        this.rawSupplies = data;\n        this.setDataGrid(data)\n      }\n    });\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    $(this.shadowRoot.querySelector(\"#panel\")).panel({\n      fit: true\n    });\n\n    this.gridDomTree = $(this.shadowRoot.querySelector(\"#treeGrid\"));\n\n    let treegrid = this.gridDomTree.treegrid({\n      fit: true,\n      autoLoad: false,\n      idField: 'id',\n      treeField: 'description',\n      onSelect: (rowData) => {\n        this.selectedSupply = rowData.raw\n      },\n      columns: [\n        [{\n            field: 'description',\n            title: 'description',\n            width: 300\n          },\n          {\n            field: 'quantity',\n            title: 'quantity',\n            width: 100\n          }, {\n            field: 'unit',\n            title: 'unit',\n            width: 100\n          },\n          {\n            field: 'source',\n            title: 'source',\n            width: 200\n          }\n        ]\n      ]\n    });\n    // this.gridDom.datagrid('loadData', dataEasyUi);\n    // console.warn('ALLO');\n\n    this.publish({\n      channel: 'supply',\n      topic: 'loadAll'\n    });\n\n    this.gridDomTree.datagrid('getPanel').find('.datagrid-header .datagrid-htable').css('height', '');\n    this.gridDomTree.datagrid('getPanel').find('.datagrid-header').css('height', '');\n    // this.gridDom.datagrid('resize');\n\n    let injectedStyle = document.createElement('style');\n    injectedStyle.appendChild(document.createTextNode(easyuiCss.toString()));\n    this.shadowRoot.appendChild(injectedStyle);\n    let injectedStyle2 = document.createElement('style');\n    injectedStyle2.appendChild(document.createTextNode(easyuiCssIcons.toString()));\n    this.shadowRoot.appendChild(injectedStyle2);\n    let injectedStyle3 = document.createElement('style');\n    injectedStyle3.appendChild(document.createTextNode(easyuiCssColors.toString()));\n    this.shadowRoot.appendChild(injectedStyle3);\n\n    this.shadowRoot.querySelector('#edit').addEventListener('click', e => {\n      this.edit();\n    })\n\n    this.shadowRoot.querySelector('#filter').addEventListener('click', e => {\n      this.filter(this.elements.descriptionSearch.value);\n    })\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    super.attributeChangedCallback(attrName, oldVal, newVal);\n  }\n\n  edit() {\n    // console.log(this.selectedSupply);\n    this.publish({\n      channel: 'main',\n      topic: 'navigate',\n      data: '/x-item-supply/' + encodeURIComponent(this.selectedSupply['@id'])\n    })\n  }\n\n  normalize(value) {\n    // return value\n    return value.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\")\n  }\n\n  filter(value) {\n    let filteredData = this.rawSupplies.filter(record => {\n      return this.normalize(record['dfc:description'].toUpperCase()).includes(this.normalize(value.toUpperCase()));\n    })\n    this.setDataGrid(filteredData)\n  }\n\n\n  setDataGrid(data) {\n    let counter = 0;\n    let dataEasyUi = data.map(d => {\n      counter++;\n      return {\n        id: counter,\n        description: d['dfc:description'],\n        source: d['dfc:hostedBy']['rdfs:label'],\n        raw: d,\n        children: d['dfc:hasPivot']['dfc:represent'].filter(c=>c['@type']!=undefined).map(c => {\n          counter++;\n          return {\n            id: counter,\n            source: c['dfc:hostedBy']['rdfs:label'],\n            raw: d,\n            description: c['dfc:description'],\n            quantity: c['dfc:quantity'],\n            // unit: c['dfc:hasUnit']['@id'],\n            // '@id': c['@id']\n          }\n        })\n      }\n    })\n    this.gridDomTree.treegrid('loadData', dataEasyUi);\n  }\n}\nwindow.customElements.define('x-catalog-supply', CatalogSupply);\n","import GenericElement from '../../core/genericElement.js';\nimport view from 'html-loader!./view.html';\n\nimport easyui from '../../easyui/jquery-easyui-1.8.1/jquery.easyui.min.js';\nimport easyuiCss from '../../easyui/jquery-easyui-1.8.1/themes/default/easyui.css';\nimport easyuiCssIcons from '../../easyui/jquery-easyui-1.8.1/themes/icon.css';\nimport easyuiCssColors from '../../easyui/jquery-easyui-1.8.1/themes/color.css';\n\nexport default class ItemImport extends GenericElement {\n  constructor() {\n    super(view);\n\n    this.elements = {\n      description: this.shadowRoot.querySelector('[name=\"description\"]'),\n      unit: this.shadowRoot.querySelector('[name=\"unit\"]'),\n      quantity: this.shadowRoot.querySelector('[name=\"quantity\"]'),\n      source: this.shadowRoot.querySelector('[name=\"source\"]'),\n      descriptionSearch: this.shadowRoot.querySelector('[name=\"descriptionSearch\"]'),\n    };\n\n    this.subscribe({\n      channel: 'import',\n      topic: 'changeOne',\n      callback: (data) => {\n        this.setData(data)\n      }\n    });\n\n    this.subscribe({\n      channel: 'supply',\n      topic: 'changeAll',\n      callback: (data) => {\n        this.setDataGrid(data)\n        this.rawSupplies=data;\n      }\n    });\n    this.subscribe({\n      channel: 'import',\n      topic: 'convert.done',\n      callback: (data) => {\n        this.publish({\n          channel: 'main',\n          topic: 'navigate',\n          data: '/x-catalog-import'\n        })\n      }\n    });\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.shadowRoot.querySelector('#link').addEventListener('click', e => {\n      this.consolidate();\n    })\n    this.shadowRoot.querySelector('#linkEmpty').addEventListener('click', e => {\n      this.consolidate(true);\n    })\n    this.shadowRoot.querySelector('#filter').addEventListener('click', e => {\n      this.filter(this.elements.descriptionSearch.value);\n    })\n\n    this.gridDomTree = $(this.shadowRoot.querySelector(\"#treeGrid\"));\n\n    let treegrid = this.gridDomTree.treegrid({\n      fit: true,\n      autoLoad: false,\n      idField: 'id',\n      treeField: 'description',\n      onSelect: (rowData) => {\n        this.selectedSupply = rowData.raw\n      },\n      columns: [\n        [{\n            field: 'description',\n            title: 'description',\n            width: 300\n          },\n          {\n            field: 'quantity',\n            title: 'quantity',\n            width: 100\n          }, {\n            field: 'unit',\n            title: 'unit',\n            width: 100\n          },\n          {\n            field: 'source',\n            title: 'source',\n            width: 200\n          }\n        ]\n      ]\n    });\n    this.publish({\n      channel: 'supply',\n      topic: 'loadAll'\n    });\n\n    this.gridDomTree.datagrid('getPanel').find('.datagrid-header .datagrid-htable').css('height', '');\n    this.gridDomTree.datagrid('getPanel').find('.datagrid-header').css('height', '');\n    // this.gridDom.datagrid('resize');\n\n    let injectedStyle = document.createElement('style');\n    injectedStyle.appendChild(document.createTextNode(easyuiCss.toString()));\n    this.shadowRoot.appendChild(injectedStyle);\n    let injectedStyle2 = document.createElement('style');\n    injectedStyle2.appendChild(document.createTextNode(easyuiCssIcons.toString()));\n    this.shadowRoot.appendChild(injectedStyle2);\n    let injectedStyle3 = document.createElement('style');\n    injectedStyle3.appendChild(document.createTextNode(easyuiCssColors.toString()));\n    this.shadowRoot.appendChild(injectedStyle3);\n\n    let regex = /\\#\\/x-item-import\\/(.+)\\/?/ig;\n    // console.log('document.location.hash',document.location.hash);\n    let regExec = regex.exec(document.location.hash);\n    let id;\n    // console.log('regExec',regExec);\n    if (regExec != null) {\n      id = regExec[1];\n    }\n    this.publish({\n      channel: 'import',\n      topic: 'loadOne',\n      data: id\n    });\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    super.attributeChangedCallback(attrName, oldVal, newVal);\n  }\n\n  normalize(value) {\n    // return value\n    return value.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\")\n  }\n\n  filter(value){\n    let filteredData = this.rawSupplies.filter(record=>{\n      return this.normalize(record['dfc:description'].toUpperCase()).includes(this.normalize(value.toUpperCase()));\n    })\n    this.setDataGrid(filteredData)\n  }\n\n  setDataGrid(data) {\n    let counter = 0;\n    let dataEasyUi = data.map(d => {\n      counter++;\n      // console.log(d);\n      return {\n        id: counter,\n        description: d['dfc:description'],\n        raw: d,\n        // 'id': d['@id'],\n        children: d['dfc:hasPivot']['dfc:represent'].filter(c=>c['@type']!=undefined).map(c => {\n          counter++;\n          return {\n            id: counter,\n            raw: {DFCid:d['@id'],...c},\n            source: c['dfc:hostedBy']['rdfs:label'],\n            description: c['dfc:description'],\n            quantity: c['dfc:quantity'],\n            // unit: c['dfc:hasUnit']['@id'],\n            // '@id': c['@id']\n          }\n        })\n      }\n    })\n    this.gridDomTree.treegrid('loadData', dataEasyUi);\n  }\n\n  setData(data) {\n    console.log('setData',data);\n    this.item = data\n    this.elements.description.textContent = data['dfc:description'];\n    // this.elements.unit.textContent = data['dfc:hasUnit']['@id'];\n    this.elements.quantity.textContent = data['dfc:quantity'];\n    this.elements.source.textContent = data['dfc:hostedBy']['rdfs:label'];\n    this.elements.descriptionSearch.value = data['dfc:description'];\n  }\n\n  consolidate(newSupply) {\n    let supplyId;\n    // console.log('this.selectedSupply',newSupply,this.selectedSupply);\n    if(newSupply!==true){\n      if (this.selectedSupply.DFCid != undefined) {\n        supplyId = this.selectedSupply.DFCid;\n      } else {\n        supplyId = this.selectedSupply['@id'];\n      }\n    }\n\n    // console.log(supplyId, this.item['@id']);\n    this.publish({\n      channel: 'import',\n      topic: 'convert',\n      data :{\n        importId:this.item['@id'],\n        supplyId:supplyId,\n      }\n    });\n  }\n}\nwindow.customElements.define('x-item-import', ItemImport);\n","import GenericElement from '../../core/genericElement.js';\nimport view from 'html-loader!./view.html';\n\nimport easyui from '../../easyui/jquery-easyui-1.8.1/jquery.easyui.min.js';\nimport easyuiCss from '../../easyui/jquery-easyui-1.8.1/themes/default/easyui.css';\nimport easyuiCssIcons from '../../easyui/jquery-easyui-1.8.1/themes/icon.css';\nimport easyuiCssColors from '../../easyui/jquery-easyui-1.8.1/themes/color.css';\n\nexport default class ItemSupply extends GenericElement {\n  constructor() {\n    super(view);\n\n    this.elements = {\n      description: this.shadowRoot.querySelector('[name=\"description\"]'),\n      unit: this.shadowRoot.querySelector('[name=\"unit\"]'),\n      quantity: this.shadowRoot.querySelector('[name=\"quantity\"]'),\n      source: this.shadowRoot.querySelector('[name=\"source\"]'),\n      id: this.shadowRoot.querySelector('[name=\"id\"]'),\n    };\n\n    this.subscribe({\n      channel: 'supply',\n      topic: 'changeOne',\n      callback: (data) => {\n        // console.log('supply changeOne',data);\n        this.setData(data)\n      }\n    });\n\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.shadowRoot.querySelector('#unlink').addEventListener('click', e => {\n      this.unlink();\n    })\n    this.shadowRoot.querySelector('#referer').addEventListener('click', e => {\n      this.referer();\n    })\n\n    this.gridDom = $(this.shadowRoot.querySelector(\"#grid\"));\n\n    let grid = this.gridDom.datagrid({\n      fit: true,\n      singleSelect:true,\n      autoLoad: false,\n      onSelect: (id,rowData) => {\n        this.selectedImport = rowData.raw\n      },\n      columns: [\n        [{\n            field: 'description',\n            title: 'description',\n            width: 300\n          },\n          {\n            field: 'quantity',\n            title: 'quantity',\n            width: 100\n          }, {\n            field: 'unit',\n            title: 'unit',\n            width: 100\n          },\n          {\n            field: 'source',\n            title: 'source',\n            width: 200\n          }\n        ]\n      ]\n    });\n    // this.publish({\n    //   channel: 'supply',\n    //   topic: 'loadAll'\n    // });\n\n    this.gridDom.datagrid('getPanel').find('.datagrid-header .datagrid-htable').css('height', '');\n    this.gridDom.datagrid('getPanel').find('.datagrid-header').css('height', '');\n    // this.gridDom.datagrid('resize');\n\n    let injectedStyle = document.createElement('style');\n    injectedStyle.appendChild(document.createTextNode(easyuiCss.toString()));\n    this.shadowRoot.appendChild(injectedStyle);\n    let injectedStyle2 = document.createElement('style');\n    injectedStyle2.appendChild(document.createTextNode(easyuiCssIcons.toString()));\n    this.shadowRoot.appendChild(injectedStyle2);\n    let injectedStyle3 = document.createElement('style');\n    injectedStyle3.appendChild(document.createTextNode(easyuiCssColors.toString()));\n    this.shadowRoot.appendChild(injectedStyle3);\n\n    let regex = /\\#\\/x-item-supply\\/(.+)\\/?/ig;\n    // console.log('document.location.hash',document.location.hash);\n    let regExec = regex.exec(document.location.hash);\n    let id;\n    // console.log('regExec',regExec);\n    if (regExec != null) {\n      id = regExec[1];\n    }\n    this.publish({\n      channel: 'supply',\n      topic: 'loadOne',\n      data: id\n    });\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    super.attributeChangedCallback(attrName, oldVal, newVal);\n  }\n\n  setDataGrid(data) {\n    // console.log('data received Tree', data);\n    let counter = 0;\n    let dataEasyUi = data.map(d => {\n      counter++;\n      return {\n        id: counter,\n        source: d['dfc:hostedBy']['rdfs:label'],\n        raw:d,\n        description: d['dfc:description'],\n        quantity: d['dfc:quantity'],\n        // unit: d['dfc:hasUnit']['@id'],\n        '@id': d['@id']\n      }\n    })\n    // console.log('gridDom', this.gridDom, dataEasyUi);\n    this.gridDom.datagrid('loadData', dataEasyUi);\n  }\n\n  setData(data) {\n    // console.log(data);\n    this.item = data\n    this.elements.description.textContent = data['dfc:description'];\n    // this.elements.unit.textContent = data['dfc:hasUnit']['@id'];\n    this.elements.quantity.textContent = data['dfc:quantity'];\n    this.elements.id.textContent = data['@id'];\n    this.setDataGrid(data[\"dfc:hasPivot\"][\"dfc:represent\"].filter(c=>c['@type']!=undefined))\n    // this.elements.unit.textContent = data['dfc:hasUnit']['@id'];\n    // this.elements.quantity.textContent = data['dfc:quantity'];\n    // this.elements.source.textContent = data['source'];\n  }\n\n  unlink(){\n      this.publish({\n        channel: 'supply',\n        topic: 'unlink',\n        data :{\n          supply:this.item,\n          import:this.selectedImport,\n        }\n      });\n  }\n\n  referer(){\n      if(this.selectedImport!=undefined){\n        this.item['dfc:description']=this.selectedImport['dfc:description'];\n        this.item['dfc:quantity']=this.selectedImport['dfc:quantity'];\n        this.item['dfc:hasUnit']=this.selectedImport['dfc:hasUnit'];\n      }\n\n      this.publish({\n        channel: 'supply',\n        topic: 'update',\n        data : this.item\n      });\n  }\n}\nwindow.customElements.define('x-item-supply', ItemSupply);\n","import GenericElement from '../../core/genericElement.js';\nimport view from 'html-loader!./view.html';\nexport default class Header extends GenericElement {\n  constructor() {\n    super(view);\n  }\n  connectedCallback() {\n    super.connectedCallback();\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    super.attributeChangedCallback(attrName, oldVal, newVal);\n  }\n\n\n  setData(data) {\n\n  }\n}\nwindow.customElements.define('x-header', Header);\n","import GenericElement from '../../core/genericElement.js';\nimport view from 'html-loader!./view.html';\nexport default class Home extends GenericElement {\n  constructor() {\n    super(view);\n  }\n  connectedCallback() {\n    super.connectedCallback();\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    super.attributeChangedCallback(attrName, oldVal, newVal);\n  }\n\n\n  setData(data) {\n\n  }\n}\nwindow.customElements.define('x-home', Home);\n","import GenericElement from '../../core/genericElement.js';\nimport view from 'html-loader!./view.html';\nexport default class Menu extends GenericElement {\n  constructor() {\n    super(view);\n    this.subscribe({\n      channel: 'main',\n      topic: 'screen',\n      callback: (data) => {\n        // console.log('supply changeOne',data);\n        this.changeMenu(data)\n      }\n    });\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    super.attributeChangedCallback(attrName, oldVal, newVal);\n  }\n\n  toggleScreen(screen){\n    let menuAnchor = this.shadowRoot.querySelector('[href*='+screen+']');\n    if (menuAnchor!=undefined){\n      menuAnchor.classList.toggle('current');\n    }\n\n  }\n\n  changeMenu(screen){\n    if(this.currentScreen!=undefined){\n      this.toggleScreen(this.currentScreen);\n    }\n    this.currentScreen = screen;\n    this.toggleScreen(this.currentScreen);\n\n  }\n  setData(data) {\n\n  }\n}\nwindow.customElements.define('x-menu', Menu);\n","import GenericElement from '../../core/genericElement.js';\nimport view from 'html-loader!./view.html';\nexport default class Profil extends GenericElement {\n  constructor() {\n    super(view);\n    this.elements = {\n      email: this.shadowRoot.querySelector('[name=\"email\"]'),\n        logout: this.shadowRoot.querySelector('#logout'),\n    };\n    this.subscribe({\n      channel: 'user',\n      topic: 'changeOne',\n      callback: (data) => {\n        // console.log('screen', data);\n        this.setUser(data);\n      }\n    });\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.publish({\n      channel: 'user',\n      topic: 'get',\n    });\n\n    this.elements.logout.addEventListener('click', e => {\n      this.publish({\n        channel: 'user',\n        topic: 'logout'\n      });\n    });\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    super.attributeChangedCallback(attrName, oldVal, newVal);\n  }\n\n\n  setData(data) {\n\n  }\n\n  setUser(user) {\n    this.elements.email.textContent = user.email;\n  }\n}\nwindow.customElements.define('x-profil', Profil);\n","import GenericElement from '../../core/genericElement.js';\nimport view from 'html-loader!./view.html';\nexport default class ImportCatalog extends GenericElement {\n  constructor() {\n    super(view);\n    this.subscribe({\n      channel: 'source',\n      topic: 'changeAll',\n      callback: (data) => {\n        this.loadSources(data);\n      }\n    });\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.shadowRoot.getElementById('import-button').addEventListener('click', e => {\n      let sourceSelect = this.shadowRoot.getElementById(\"source-select\");\n      var optionSelected = sourceSelect.options[sourceSelect.selectedIndex];\n      const sourceSelected = this.sources.filter(s => s.name == optionSelected.value)[0];\n      let url = sourceSelected.url;\n      const options = this.shadowRoot.getElementById(\"options\").querySelectorAll(\"input\");\n      let firstOption=true;\n      options.forEach(option=>{\n        url=url.concat(firstOption?'?':'&');\n        url=url.concat(`${option.getAttribute('url-param')}=${option.value}`)\n      })\n      this.publish({\n        channel: 'source',\n        topic: 'importOne',\n        data: {\n          source: url,\n          name:sourceSelected.name\n        }\n      });\n    });\n\n    this.shadowRoot.getElementById('clean-button').addEventListener('click', e => {\n      let cleandecision = confirm('êtes vous sur de vouloir supprimer le catalogue lié à cet utilisateur');\n      if (cleandecision == true) {\n        this.publish({\n          channel: 'source',\n          topic: 'clean',\n        });\n      }\n    });\n\n    this.shadowRoot.getElementById('source-select').addEventListener('change', e => {\n      const sourceSelected = this.sources.filter(s => s.name == e.target.value)[0];\n      const divOptions = this.shadowRoot.getElementById('options');\n      while (divOptions.firstChild) {\n        divOptions.removeChild(divOptions.firstChild);\n      }\n      if (sourceSelected.options != undefined) {\n        sourceSelected.options.forEach(option => {\n          let optionDiv = document.createElement('div');\n          optionDiv.classList.add('field');\n          let optionLabel = document.createElement('label');\n          optionLabel.innerText = option.label;\n          optionDiv.append(optionLabel);\n          let optionInfo = document.createElement('span');\n          optionInfo.innerText= option.info;\n          optionDiv.append(optionInfo);\n          let optionText = document.createElement('input');\n          optionText.setAttribute('type', 'text');\n          optionText.setAttribute('url-param', option.param);\n          optionDiv.append(optionText);\n          divOptions.append(optionDiv);\n        })\n      }\n\n    });\n\n    this.publish({\n      channel: 'source',\n      topic: 'getAll'\n    });\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    super.attributeChangedCallback(attrName, oldVal, newVal);\n  }\n\n  loadSources(data) {\n    this.sources = data;\n    let sourceSelect = this.shadowRoot.getElementById('source-select');\n    for (let source of data) {\n      let option = document.createElement(\"option\");\n      option.innerText = source.name;\n      option.value = source.name;\n      option.setAttribute('x-url',source.url);\n      sourceSelect.append(option);\n    }\n  }\n\n  setData(data) {\n\n  }\n}\nwindow.customElements.define('x-import-catalog', ImportCatalog);\n","import GenericElement from '../../core/genericElement.js';\nimport view from 'html-loader!./view.html';\n\nexport default class OIDC_test extends GenericElement {\n  constructor() {\n    super(view);\n    this.elements = {\n      urlInit: this.shadowRoot.querySelector('#urlInit'),\n      urlInit2: this.shadowRoot.querySelector('#urlInit2'),\n      urlInit3: this.shadowRoot.querySelector('#urlInit3'),\n      result: this.shadowRoot.querySelector('[name=\"result\"]'),\n      header: this.shadowRoot.querySelector('[name=\"header\"]'),\n      urlTest: this.shadowRoot.querySelector('#urlTest'),\n      urlInput: this.shadowRoot.querySelector('[name=\"urlInput\"]'),\n    };\n    this.subscribe({\n      channel: 'testAPI',\n      topic: 'testApiHeaderResponse',\n      callback: (data) => {\n        // console.log('testApiHeaderResponse',data);\n        this.setResult(data);\n      }\n    });\n  }\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.elements.urlTest.addEventListener('click', e => {\n      let url = this.elements.urlInput.value;\n      // console.log(url);\n      this.publish({\n        channel: 'testAPI',\n        topic: 'testApiHeaderCall',\n        data: url\n      })\n    })\n\n    this.elements.urlInit.addEventListener('click', e => {\n      let url = window.location.origin + '/login/auth/me';\n      this.elements.urlInput.value = url;\n    })\n    this.elements.urlInit2.addEventListener('click', e => {\n      let url = window.location.origin + '/data/core/me/entrepriseJSONLD';\n      this.elements.urlInput.value = url;\n    })\n    this.elements.urlInit3.addEventListener('click', e => {\n      let url = window.location.origin + '/data/core/me/entrepriseLDP';\n      this.elements.urlInput.value = url;\n    })\n  }\n  setResult(result) {\n    this.elements.result.value = JSON.stringify(result.body);\n    this.elements.header.value = result.headers;\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    super.attributeChangedCallback(attrName, oldVal, newVal);\n  }\n\n\n  setData(data) {\n\n  }\n}\nwindow.customElements.define('x-oidc-test', OIDC_test);\n","import GenericElement from '../../core/genericElement.js';\nimport view from 'html-loader!./view.html';\n// import {\n//   PathFactory\n// } from 'ldflex';\n// import {\n//   default as ComunicaEngine\n// } from '@ldflex/comunica';\n// import {\n//   namedNode\n// } from '@rdfjs/data-model';\n\n// const { PathFactory } = require('ldflex');\n// const { default: ComunicaEngine } = require('ldflex-comunica');\n// const { namedNode } = require('@rdfjs/data-model');\n\nexport default class LDP_test extends GenericElement {\n  constructor() {\n    super(view);\n    this.elements = {\n      urlInit: this.shadowRoot.querySelector('#urlInit'),\n      urlInit2: this.shadowRoot.querySelector('#urlInit2'),\n      result: this.shadowRoot.querySelector('[name=\"result\"]'),\n      header: this.shadowRoot.querySelector('[name=\"header\"]'),\n      urlTest: this.shadowRoot.querySelector('#urlTest'),\n      urlInput: this.shadowRoot.querySelector('[name=\"urlInput\"]'),\n    };\n    this.subscribe({\n      channel: 'testAPI',\n      topic: 'testApiHeaderResponse',\n      callback: (data) => {\n        // console.log('testApiHeaderResponse',data);\n        this.setResult(data);\n      }\n    });\n  }\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.elements.urlTest.addEventListener('click', async e => {\n      let url = this.elements.urlInput.value;\n\n      const context = {\n        \"@context\": {\n          // \"@vocab\": \"http://datafoodconsortium.org/ontologies/DFC_FullModel.owl#\",\n          \"dfc\": \"http://datafoodconsortium.org/ontologies/DFC_FullModel.owl#\",\n          \"label\": \"http://www.w3.org/2000/01/rdf-schema#label\",\n        }\n      };\n      // // The query engine and its source\n      // const queryEngine = new ComunicaEngine('http://localhost:8080/data/core/entrepriseLDP/5da83c675417a50a1250ee08');\n      // // The object that can create new paths\n      // let param = {\n      //   context,\n      //   queryEngine\n      // };\n      // // console.log('param',param);\n      // const path = new PathFactory({\n      //   context,\n      //   queryEngine\n      // });\n      //\n      // const proxy = path.create({\n      //   subject: namedNode('http://localhost:8080/data/core/entrepriseLDP/5da83c675417a50a1250ee08')\n      // });\n      // let description = await proxy['dfc:description'];\n      //\n      //\n      // (async document => {\n      //   for await (const subject of document.subjects)\n      //   console.log(`subject ${subject}`);\n      // })(proxy);\n      //\n      // (async subject => {\n      //   for await (const property of subject.properties)\n      //   console.log(`property ${property}`);\n      // })(proxy);\n\n    })\n\n    // this.elements.urlInit.addEventListener('click',e=>{\n    //   let url = window.location.origin+'/login/auth/me';\n    //   this.elements.urlInput.value=url;\n    // })\n    this.elements.urlInit2.addEventListener('click', e => {\n      let url = window.location.origin + '/data/core/me/entrepriseLDP';\n      this.elements.urlInput.value = url;\n    })\n  }\n  setResult(result) {\n    console.log('result', result);\n    this.elements.result.value = JSON.stringify(result.body);\n    this.elements.header.value = result.headers;\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    super.attributeChangedCallback(attrName, oldVal, newVal);\n  }\n\n\n  setData(data) {\n\n  }\n}\nwindow.customElements.define('x-ldp-test', LDP_test);\n","import GenericElement from '../../core/genericElement.js';\nimport view from 'html-loader!./view.html';\nimport header from '../header/model.js';\nimport home from '../home/model.js';\nimport menu from '../menu/model.js';\n// import screen1 from '../catalog/model.js';\n// import screen3 from '../w2ui/model.js';\nimport catalogImport from '../catalogImport/model.js';\nimport catalogSupply from '../catalogSupply/model.js';\nimport itemImport from '../itemImport/model.js';\nimport itemSupply from '../itemSupply/model.js';\nimport profil from '../profil/model.js';\nimport importCatalog from '../importCatalog/model.js';\nimport oidc_test from '../OIDC-test/model.js';\nimport ldp_test from '../LDP-test/model.js';\n\n\nexport default class Navigation extends GenericElement {\n  constructor() {\n    super(view);\n\n    this.elements = {\n      loader: this.shadowRoot.querySelector('#containerLoaderDiv'),\n    };\n\n    this.subscribe({\n      channel: 'main',\n      topic: 'screen',\n      callback: (data) => {\n        // console.log('screen', data);\n        this.loadComponent(data);\n      }\n    });\n\n    this.subscribe({\n      channel: 'ui',\n      topic: 'activLoader',\n      callback: () => {\n        this.elements.loader.classList.remove('hide')\n      }\n    });\n    this.subscribe({\n      channel: 'ui',\n      topic: 'hideLoader',\n      callback: () => {\n        this.elements.loader.classList.add('hide')\n      }\n    });\n  }\n\n  loadComponent(comp) {\n    console.log(comp);\n    let screen = this.shadowRoot.querySelector('#screen');\n    let component = document.createElement(comp);\n    component.setAttribute(\"style\", \"flex:1\");\n    component.classList.add('containerV')\n    while (screen.firstChild != null) {\n      screen.removeChild(screen.firstChild);\n    }\n    screen.appendChild(component);\n\n    this.propagatedStyle.forEach(style => {\n      component.appendChild(style.cloneNode(true));\n    })\n    return component;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.activAuth();\n    // this.loadComponent('home-wc');\n  }\n\n  async activAuth() {\n    let search = window.location.search.split('?')[1];\n    let urlToken = undefined;\n    if (search != undefined) {\n      let params = search.split('&').map(param => {\n        let terms = param.split('=')\n        return {\n          key: terms[0],\n          value: terms[1]\n        }\n      });\n      let urlToken = params.filter(r => r.key == 'token')[0];\n\n      if (urlToken != undefined) {\n        // console.log('urlToken', urlToken.value);\n        localStorage.setItem('token', urlToken.value);\n        let cleanurl=window.location.origin+window.location.pathname+window.location.hash;\n        window.location=cleanurl;\n        // console.log('location',window.location,window.origin.host+window.location.pathname+window.location.hash);\n        // this.shadowRoot.getElementById('appLink').click();\n      } else {\n\n      }\n    }\n    if (urlToken == undefined) {\n      let token = localStorage.getItem('token');\n\n      if (token != undefined && token != 'undefined') {\n\n        // console.log('existing token');\n\n        // localStorage.removeItem('token');\n        // document.getElementById('oidcLink').click();\n      } else {\n\n\n      }\n\n      var myHeaders = new Headers();\n      myHeaders.append(\"Authorization\", 'JWT' + ' ' + token);\n      // myHeaders.append(\"Referer\",window.location)\n\n      var myInit = {\n        method: 'GET',\n        headers: myHeaders,\n        mode: 'cors'\n      };\n\n      try {\n        let response = await fetch(`${url_server}/login/auth/me`, myInit);\n\n        if (response.status == 200) {\n          let jsonResponse = await response.json();\n\n          // console.log('response', jsonResponse);\n          this.publish({\n            channel: 'profil',\n            topic: 'set',\n            data: jsonResponse\n          });\n          // document.getElementById('user').textContent = jsonResponse. preferred_username;\n\n        } else {\n          let text = await response.text();\n          // document.getElementById('err').textContent = text + ' redirect to OIDC provider in 1 second';\n          setTimeout(() => {\n            let oidcLink = this.shadowRoot.getElementById('oidcLink');\n            oidcLink.setAttribute('href', oidcLink.getAttribute('href-source') + '?app_referer=' + window.location.hash.substr(1));\n            oidcLink.click();\n          }, 1);\n\n        }\n      } catch (e) {\n        console.log('Request failed', e)\n      } finally {\n\n      }\n    }\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n  }\n\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    super.attributeChangedCallback(attrName, oldVal, newVal);\n  }\n\n\n  removeParam(parameter) {\n    var url = document.location.href;\n    var urlparts = url.split('?');\n\n    if (urlparts.length >= 2) {\n      var urlBase = urlparts.shift();\n      var queryString = urlparts.join(\"?\");\n\n      var prefix = encodeURIComponent(parameter) + '=';\n      var pars = queryString.split(/[&;]/g);\n      for (var i = pars.length; i-- > 0;)\n        if (pars[i].lastIndexOf(prefix, 0) !== -1)\n          pars.splice(i, 1);\n      url = urlBase + '?' + pars.join('&');\n      window.history.pushState('', document.title, url); // added this line to push the new url directly to url bar .\n\n    }\n    return url;\n  }\n\n}\nwindow.customElements.define('x-navigation', Navigation);\n","import Navigo from 'navigo';\nimport GenericElement from '../core/genericElement.js';\nexport default class Router extends GenericElement {\n  constructor() {\n    super();\n    this.firstRoute = false;\n    var root = null;\n    var useHash = true; // Defaults to: false\n    var hash = '#'; // Defaults to: '#'\n    this.router = new Navigo(root, useHash, hash);\n\n    this.router.on('/:screen*', (params, query) => {\n      if (params.screen == undefined) {\n        this.firstRoute = true;\n      }\n      this.publish({\n        channel: 'main',\n        topic: 'screen',\n        data: params.screen\n      });\n\n    }).resolve();\n\n    this.subscribe({\n      channel: 'main',\n      topic: 'navigate',\n      callback: (data) => {\n        this.router.navigate(data);\n      }\n    })\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    // if (this.firstRoute == false && this.getAttribute('default') != undefined) {\n    //   this.router.navigate('/' + this.getAttribute('default'));\n    // }\n\n    //console.log(this.getAttribute('default'));\n  }\n  attributeChangedCallback(attrName, oldVal, newVal) {\n    super.attributeChangedCallback(attrName, oldVal, newVal);\n    switch (attrName) {\n      case 'default':\n        this.router.navigate('/' + newVal);\n        break;\n      default:\n\n    }\n  }\n}\nwindow.customElements.define('x-router', Router);\n","import postal from 'postal';\nexport default class Util {\n  async getConfig(){\n    let response = await fetch(`${url_server}/data/core/config`);\n    let out = await response.json();\n    return out ;\n  }\n  ajaxCall(url, option) {\n    option = option || {};\n    // console.log('ajaxCall', url, option);\n    return new Promise((resolve, reject) => {\n      let token = localStorage.getItem('token');\n\n      if (token != undefined && token != 'undefined') {\n        var myHeaders = new Headers();\n        myHeaders.append(\"Authorization\", 'JWT' + ' ' + token);\n        myHeaders.append(\"Content-Type\", 'application/json');\n        var myInit = {\n          headers: myHeaders,\n          mode: 'cors'\n        };\n\n        Object.assign(option, myInit);\n        postal.publish({\n          channel: 'ui',\n          topic: 'activLoader'\n        });\n        fetch(url, option).then(async function(response) {\n          postal.publish({\n            channel: 'ui',\n            topic: 'hideLoader'\n          });\n          if (response.ok) {\n            // console.log('OK!',response);\n            let headers = {};\n            let headerString = response.status.toString();\n\n            response.headers.forEach(function(value, name) {\n              // headers[name] = value;\n              headerString = headerString.concat(String.fromCharCode(10))\n              headerString = headerString.concat(name + \": \" + value)\n\n              // console.log(name + \": \" + value);\n            });\n            let body = await response.json();\n            resolve({\n              body: body,\n              headers: headerString\n            })\n            // return response.json();\n          } else {\n            console.log('error', response);\n            let errorMessage;\n            try {\n              let error = await response.json();\n              errorMessage= error.message;\n              // throw new Error (error.message)\n              reject(new Error(error.message));\n            } catch (e) {\n              errorMessage= await response.text();\n            } finally {\n\n            }\n            // let error = await response.json();\n            // throw new Error (error.message)\n            reject(new Error(errorMessage));\n          }\n\n        }).catch(e => {\n          postal.publish({\n            channel: 'ui',\n            topic: 'hideLoader'\n          });\n          reject(e);\n        });\n        // .then(function(data) {\n        //   resolve(data)\n        // }).catch(e => {\n        //   reject(e);\n        // });\n      } else {\n        reject(new Error('no token in localstorage'))\n      }\n\n    })\n  }\n}\n","import Navigo from 'navigo';\nimport GenericElement from '../core/genericElement.js';\n// import config from '../../configuration.json';\nimport Util from './util.js'\nexport default class Catalog extends GenericElement {\n  constructor() {\n    super();\n    this.util = new Util();\n    this.subscribe({\n      channel: 'supply',\n      topic: 'loadAll',\n      callback: (data) => {\n        this.loadAllSupply();\n      }\n    });\n    this.subscribe({\n      channel: 'supply',\n      topic: 'loadOne',\n      callback: (data) => {\n        this.loadOneSupply(data);\n      }\n    });\n\n    this.subscribe({\n      channel: 'supply',\n      topic: 'unlink',\n      callback: (data) => {\n        this.unlinkSupply(data.supply, data.import);\n      }\n    });\n\n    this.subscribe({\n      channel: 'supply',\n      topic: 'update',\n      callback: (data) => {\n        this.updateSupply(data);\n      }\n    });\n\n    this.subscribe({\n      channel: 'import',\n      topic: 'convert',\n      callback: (data) => {\n        this.convertImportToSupply(data.importId, data.supplyId);\n      }\n    });\n\n    this.subscribe({\n      channel: 'import',\n      topic: 'loadAll',\n      callback: (data) => {\n        this.loadAllImport();\n      }\n    });\n    this.subscribe({\n      channel: 'import',\n      topic: 'loadOne',\n      callback: (data) => {\n        this.loadOneImport(data);\n      }\n    });\n    this.subscribe({\n      channel: 'source',\n      topic: 'getAll',\n      callback: (data) => {\n        this.getSources();\n      }\n    });\n\n    this.subscribe({\n      channel: 'source',\n      topic: 'importOne',\n      callback: (data) => {\n        this.importOne(data.source,data.name);\n      }\n    });\n\n    this.subscribe({\n      channel: 'source',\n      topic: 'clean',\n      callback: (data) => {\n        this.cleanAll();\n      }\n    });\n  }\n\n  cleanAll(source) {\n    let url = '/data/core/clean';\n    let option = {\n      method: 'POST'\n    };\n    this.util.ajaxCall(url, option).then(data => {\n      console.log('resolve ajaxCall', data);\n      this.publish({\n        channel: 'main',\n        topic: 'navigate',\n        data : '/x-catalog-supply'\n      });\n    })\n  }\n\n  importOne(source,name) {\n    // let sourceObject = config.sources.filter(so => so.name == source)[0];\n    // console.log('importOne',sourceObject);\n    let url = `${url_server}/data/core/import/importSource?source=${source}`;\n    let option = {\n      method: 'POST'\n    };\n    this.util.ajaxCall(url, option).then(data => {\n      // console.log('resolve ajaxCall', data);\n      alert(name + ' bien importé')\n    }).catch(e=>{\n      alert(e)\n    });\n  }\n\n  convertImportToSupply(importId, supplyId) {\n    let url = `http://localhost:8080/data/core/import/${importId}/convert/${supplyId==undefined?'':supplyId}`;\n    let option = {\n      method: 'POST'\n    };\n    this.util.ajaxCall(url, option).then(data => {\n      // console.log('import converti', data);\n      this.publish({\n        channel: 'import',\n        topic: 'convert.done',\n        data: data.body\n      });\n    })\n  }\n\n  async getSources() {\n    // console.log('getSources',this.util);\n    let config = await this.util.getConfig();\n    this.publish({\n      channel: 'source',\n      topic: 'changeAll',\n      data: config.sources,\n    });\n  }\n  loadAllImport() {\n    let url = `${url_server}/data/core/import`;\n    this.catalogs = [];\n    this.catalogsTree = [];\n    this.util.ajaxCall(url).then(data => {\n\n      let newRecords = (data.body['@graph']?data.body['@graph']:[]).map(record => {\n        return {\n          '@id': record['@id'],\n          'source': record['source']||record.source,\n          'dfc:description': record['dfc:description']||record.description,\n          'dfc:quantity': record['dfc:quantity']||record.quantity,\n          // 'dfc:hasUnit': {\n          //   '@id': record['dfc:hasUnit']['@id']\n          // },\n          'dfc:hostedBy': record['dfc:hostedBy']||record.hostedBy,\n        }\n      })\n      console.log('newRecords',newRecords);\n      this.catalogs = newRecords;\n      this.catalogs.sort((a, b) => {\n        // console.log(a['dfc:description'],'---',b['dfc:description']);\n        let dif = a['dfc:description'].localeCompare(b['dfc:description']);\n        // console.log(dif);\n        return dif;\n      });\n\n      this.publish({\n        channel: 'import',\n        topic: 'changeAll',\n        data: this.catalogs\n      });\n\n    })\n  }\n\n  loadOneImport(id) {\n    let url = `http://localhost:8080/data/core/import/${id}`;\n    this.util.ajaxCall(url).then(data => {\n      this.selectedImport = data.body;\n      // console.log('loadOneImport', this.selectedImport);\n      this.publish({\n        channel: 'import',\n        topic: 'changeOne',\n        data: this.selectedImport\n      });\n    })\n  }\n\n\n\n  loadAllSupply() {\n    let url = `${url_server}/data/core/supply`;\n    this.catalogs = [];\n    this.catalogsTree = [];\n    this.util.ajaxCall(url).then(data => {\n      console.log(data);\n      if(data.body['@graph']){\n        let newRecords = data.body['@graph'].map(record => {\n          return {\n            '@id': record['@id'],\n            'imports': record['imports'],\n            'dfc:description': record['dfc:description'],\n            'dfc:hasPivot': record['dfc:hasPivot'],\n            'dfc:hostedBy': record['dfc:hostedBy'],\n\n          }\n        })\n        // console.log(newRecords);\n\n        this.catalogs = newRecords;\n        this.catalogs.sort((a, b) => {\n          let dif = a['dfc:description'].localeCompare(b['dfc:description']);\n          // console.log(dif);\n          return dif;\n        });\n\n        // console.log('this.catalogsTree',this.catalogsTree);\n        this.publish({\n          channel: 'supply',\n          topic: 'changeAll',\n          data: this.catalogs\n        });\n      }else{\n        this.publish({\n          channel: 'supply',\n          topic: 'changeAll',\n          data: []\n        });\n      }\n\n    })\n  }\n\n  loadOneSupply(id) {\n    let url = `http://localhost:8080/data/core/supply/${id}`;\n    this.util.ajaxCall(url).then(data => {\n      this.selectedSupply = data.body;\n      // console.log('loadOneSupply',this.selectedSupply);\n      this.publish({\n        channel: 'supply',\n        topic: 'changeOne',\n        data: this.selectedSupply\n      });\n    })\n  }\n\n  unlinkSupply(supply, importItem) {\n    supply[\"dfc:hasPivot\"][\"dfc:represent\"] = supply[\"dfc:hasPivot\"][\"dfc:represent\"].filter(r => r['@id'] != importItem['@id']);\n    let url = '/data/core/supply/';\n    let option = {\n      method: 'POST',\n      body: JSON.stringify(supply)\n    };\n    this.util.ajaxCall(url, option).then(data => {\n      this.selectedSupply = data.body;\n      // console.log('loadOneSupply',this.selectedSupply);\n      this.publish({\n        channel: 'supply',\n        topic: 'changeOne',\n        data: this.selectedSupply\n      });\n    })\n  }\n\n  updateSupply(supply) {\n    let url = `${url_server}/data/core/supply/`;\n    let option = {\n      method: 'POST',\n      body: JSON.stringify(supply)\n    };\n    this.util.ajaxCall(url, option).then(data => {\n      this.selectedSupply = data.body;\n      // console.log('loadOneSupply',this.selectedSupply);\n      this.publish({\n        channel: 'supply',\n        topic: 'changeOne',\n        data: this.selectedSupply\n      });\n    })\n  }\n\n}\nwindow.customElements.define('x-service-catalog', Catalog);\n","import Navigo from 'navigo';\nimport GenericElement from '../core/genericElement.js';\nimport Util from './util.js'\nexport default class TestAPI extends GenericElement {\n  constructor() {\n    super();\n    this.util = new Util();\n    this.subscribe({\n      channel: 'testAPI',\n      topic: 'testApiHeaderCall',\n      callback: (data) => {\n        this.testApiHeader(data);\n      }\n    });\n\n  }\n\n  testApiHeader(url) {\n    url=window.location.origin +'/data/core/redirectAPI?url='+url;\n    this.util.ajaxCall(url).then(data => {\n      this.publish({\n        channel: 'testAPI',\n        topic: 'testApiHeaderResponse',\n        data: data\n      })\n    })\n  }\n}\nwindow.customElements.define('x-test-api', TestAPI);\n","import Navigo from 'navigo';\nimport GenericElement from '../core/genericElement.js';\nimport Util from './util.js'\nexport default class User extends GenericElement {\n  constructor() {\n    super();\n    this.util = new Util();\n\n    this.subscribe({\n      channel: 'profil',\n      topic: 'set',\n      callback: (data) => {\n        this.setProfil(data);\n      }\n    });\n\n    this.subscribe({\n      channel: 'user',\n      topic: 'get',\n      callback: (data) => {\n\n        this.getUser();\n      }\n    });\n    this.subscribe({\n      channel: 'user',\n      topic: 'createEntreprise',\n      callback: (data) => {\n        this.createEntrepriseForUser(data);\n      }\n    });\n    this.subscribe({\n      channel: 'user',\n      topic: 'logout',\n      callback: () => {\n        this.logout();\n      }\n    });\n  }\n\n  setProfil(data){\n    this.profil=data;\n    this.publish({\n      channel: 'user',\n      topic: 'changeOne',\n      data: this.profil.user\n    });\n  }\n  createEntrepriseForUser(data){\n    // this.user['dfc:Entreprise']=data;\n    let url = `${url_server}/data/core/user/${this.profil.user._id}/entreprise`;\n    let option = {\n      method: 'POST',\n      body:JSON.stringify(data)\n    };\n    this.util.ajaxCall(url, option).then(data => {\n      this.profil.user=data.body;\n      // console.log('loadOneSupply',this.selectedSupply);\n      this.publish({\n        channel: 'user',\n        topic: 'changeOne',\n        data: this.profil.user\n      });\n    })\n  }\n\n  logout(){\n    localStorage.removeItem('token');\n    console.log(window.location.href);\n    let redirectUrl = `http://localhost:8080/login/auth/logout?redirectUri=${window.location.href}`;\n    window.location.href = redirectUrl;\n    // this.util.ajaxCall(\"/auth/logout, option\")\n  }\n\n  getUser(data){\n    if(this.profil !=undefined  &&  this.profil.user!=undefined){\n      this.publish({\n        channel: 'user',\n        topic: 'changeOne',\n        data: this.profil.user\n      });\n    }\n  }\n\n\n}\nwindow.customElements.define('x-service-user', User);\n","import navigation from './component/navigation/model.js';\nimport router from './router/router.js';\nimport catalog from './model/catalog.js';\nimport testAPI from './model/testAPI.js';\nimport user from './model/user.js';\n\n\nconsole.log(`url server: ${JSON.stringify(url_server)}`)\n"],"sourceRoot":""}